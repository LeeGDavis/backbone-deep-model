!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("backbone"),require("underscore")):"function"==typeof define&&define.amd?define(["backbone","underscore"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).Backbone,t._)}(this,(function(t,e){"use strict";var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n={};!function(t,e){var n=200,o="__lodash_hash_undefined__",i=9007199254740991,u="[object Arguments]",c="[object Boolean]",a="[object Date]",s="[object Function]",f="[object GeneratorFunction]",l="[object Map]",h="[object Number]",p="[object Object]",_="[object Promise]",v="[object RegExp]",d="[object Set]",y="[object String]",b="[object Symbol]",g="[object WeakMap]",j="[object ArrayBuffer]",w="[object DataView]",A="[object Float32Array]",O="[object Float64Array]",m="[object Int8Array]",S="[object Int16Array]",x="[object Int32Array]",z="[object Uint8Array]",P="[object Uint8ClampedArray]",k="[object Uint16Array]",E="[object Uint32Array]",$=/\w*$/,B=/^\[object .+?Constructor\]$/,F=/^(?:0|[1-9]\d*)$/,I={};I[u]=I["[object Array]"]=I[j]=I[w]=I[c]=I[a]=I[A]=I[O]=I[m]=I[S]=I[x]=I[l]=I[h]=I[p]=I[v]=I[d]=I[y]=I[b]=I[z]=I[P]=I[k]=I[E]=!0,I["[object Error]"]=I[s]=I[g]=!1;var T="object"==typeof r&&r&&r.Object===Object&&r,U="object"==typeof self&&self&&self.Object===Object&&self,M=T||U||Function("return this")(),q=e&&!e.nodeType&&e,D=q&&t&&!t.nodeType&&t,C=D&&D.exports===q;function R(t,e){return t.set(e[0],e[1]),t}function L(t,e){return t.add(e),t}function N(t,e,r,n){var o=-1,i=t?t.length:0;for(n&&i&&(r=t[++o]);++o<i;)r=e(r,t[o],o,t);return r}function V(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function W(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function G(t,e){return function(r){return t(e(r))}}function J(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var H,K=Array.prototype,Q=Function.prototype,X=Object.prototype,Y=M["__core-js_shared__"],Z=(H=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||""))?"Symbol(src)_1."+H:"",tt=Q.toString,et=X.hasOwnProperty,rt=X.toString,nt=RegExp("^"+tt.call(et).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ot=C?M.Buffer:void 0,it=M.Symbol,ut=M.Uint8Array,ct=G(Object.getPrototypeOf,Object),at=Object.create,st=X.propertyIsEnumerable,ft=K.splice,lt=Object.getOwnPropertySymbols,ht=ot?ot.isBuffer:void 0,pt=G(Object.keys,Object),_t=Dt(M,"DataView"),vt=Dt(M,"Map"),dt=Dt(M,"Promise"),yt=Dt(M,"Set"),bt=Dt(M,"WeakMap"),gt=Dt(Object,"create"),jt=Vt(_t),wt=Vt(vt),At=Vt(dt),Ot=Vt(yt),mt=Vt(bt),St=it?it.prototype:void 0,xt=St?St.valueOf:void 0;function zt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Pt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function kt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Et(t){this.__data__=new Pt(t)}function $t(t,e){var r=Gt(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&Jt(t)}(t)&&et.call(t,"callee")&&(!st.call(t,"callee")||rt.call(t)==u)}(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,o=!!n;for(var i in t)!e&&!et.call(t,i)||o&&("length"==i||Lt(i,n))||r.push(i);return r}function Bt(t,e,r){var n=t[e];et.call(t,e)&&Wt(n,r)&&(void 0!==r||e in t)||(t[e]=r)}function Ft(t,e){for(var r=t.length;r--;)if(Wt(t[r][0],e))return r;return-1}function It(t,e,r,n,o,i,_){var g;if(n&&(g=i?n(t,o,i,_):n(t)),void 0!==g)return g;if(!Qt(t))return t;var B=Gt(t);if(B){if(g=function(t){var e=t.length,r=t.constructor(e);e&&"string"==typeof t[0]&&et.call(t,"index")&&(r.index=t.index,r.input=t.input);return r}(t),!e)return function(t,e){var r=-1,n=t.length;e||(e=Array(n));for(;++r<n;)e[r]=t[r];return e}(t,g)}else{var F=Rt(t),T=F==s||F==f;if(Ht(t))return function(t,e){if(e)return t.slice();var r=new t.constructor(t.length);return t.copy(r),r}(t,e);if(F==p||F==u||T&&!i){if(V(t))return i?t:{};if(g=function(t){return"function"!=typeof t.constructor||Nt(t)?{}:(e=ct(t),Qt(e)?at(e):{});var e}(T?{}:t),!e)return function(t,e){return Mt(t,Ct(t),e)}(t,function(t,e){return t&&Mt(e,Xt(e),t)}(g,t))}else{if(!I[F])return i?t:{};g=function(t,e,r,n){var o=t.constructor;switch(e){case j:return Ut(t);case c:case a:return new o(+t);case w:return function(t,e){var r=e?Ut(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,n);case A:case O:case m:case S:case x:case z:case P:case k:case E:return function(t,e){var r=e?Ut(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,n);case l:return function(t,e,r){var n=e?r(W(t),!0):W(t);return N(n,R,new t.constructor)}(t,n,r);case h:case y:return new o(t);case v:return function(t){var e=new t.constructor(t.source,$.exec(t));return e.lastIndex=t.lastIndex,e}(t);case d:return function(t,e,r){var n=e?r(J(t),!0):J(t);return N(n,L,new t.constructor)}(t,n,r);case b:return i=t,xt?Object(xt.call(i)):{}}var i}(t,F,It,e)}}_||(_=new Et);var U=_.get(t);if(U)return U;if(_.set(t,g),!B)var M=r?function(t){return function(t,e,r){var n=e(t);return Gt(t)?n:function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}(n,r(t))}(t,Xt,Ct)}(t):Xt(t);return function(t,e){for(var r=-1,n=t?t.length:0;++r<n&&!1!==e(t[r],r,t););}(M||t,(function(o,i){M&&(o=t[i=o]),Bt(g,i,It(o,e,r,n,i,t,_))})),g}function Tt(t){return!(!Qt(t)||(e=t,Z&&Z in e))&&(Kt(t)||V(t)?nt:B).test(Vt(t));var e}function Ut(t){var e=new t.constructor(t.byteLength);return new ut(e).set(new ut(t)),e}function Mt(t,e,r,n){r||(r={});for(var o=-1,i=e.length;++o<i;){var u=e[o],c=n?n(r[u],t[u],u,r,t):void 0;Bt(r,u,void 0===c?t[u]:c)}return r}function qt(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map}function Dt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return Tt(r)?r:void 0}zt.prototype.clear=function(){this.__data__=gt?gt(null):{}},zt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},zt.prototype.get=function(t){var e=this.__data__;if(gt){var r=e[t];return r===o?void 0:r}return et.call(e,t)?e[t]:void 0},zt.prototype.has=function(t){var e=this.__data__;return gt?void 0!==e[t]:et.call(e,t)},zt.prototype.set=function(t,e){return this.__data__[t]=gt&&void 0===e?o:e,this},Pt.prototype.clear=function(){this.__data__=[]},Pt.prototype.delete=function(t){var e=this.__data__,r=Ft(e,t);return!(r<0)&&(r==e.length-1?e.pop():ft.call(e,r,1),!0)},Pt.prototype.get=function(t){var e=this.__data__,r=Ft(e,t);return r<0?void 0:e[r][1]},Pt.prototype.has=function(t){return Ft(this.__data__,t)>-1},Pt.prototype.set=function(t,e){var r=this.__data__,n=Ft(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},kt.prototype.clear=function(){this.__data__={hash:new zt,map:new(vt||Pt),string:new zt}},kt.prototype.delete=function(t){return qt(this,t).delete(t)},kt.prototype.get=function(t){return qt(this,t).get(t)},kt.prototype.has=function(t){return qt(this,t).has(t)},kt.prototype.set=function(t,e){return qt(this,t).set(t,e),this},Et.prototype.clear=function(){this.__data__=new Pt},Et.prototype.delete=function(t){return this.__data__.delete(t)},Et.prototype.get=function(t){return this.__data__.get(t)},Et.prototype.has=function(t){return this.__data__.has(t)},Et.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Pt){var o=r.__data__;if(!vt||o.length<n-1)return o.push([t,e]),this;r=this.__data__=new kt(o)}return r.set(t,e),this};var Ct=lt?G(lt,Object):function(){return[]},Rt=function(t){return rt.call(t)};function Lt(t,e){return!!(e=null==e?i:e)&&("number"==typeof t||F.test(t))&&t>-1&&t%1==0&&t<e}function Nt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||X)}function Vt(t){if(null!=t){try{return tt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Wt(t,e){return t===e||t!=t&&e!=e}(_t&&Rt(new _t(new ArrayBuffer(1)))!=w||vt&&Rt(new vt)!=l||dt&&Rt(dt.resolve())!=_||yt&&Rt(new yt)!=d||bt&&Rt(new bt)!=g)&&(Rt=function(t){var e=rt.call(t),r=e==p?t.constructor:void 0,n=r?Vt(r):void 0;if(n)switch(n){case jt:return w;case wt:return l;case At:return _;case Ot:return d;case mt:return g}return e});var Gt=Array.isArray;function Jt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}(t.length)&&!Kt(t)}var Ht=ht||function(){return!1};function Kt(t){var e=Qt(t)?rt.call(t):"";return e==s||e==f}function Qt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Xt(t){return Jt(t)?$t(t):function(t){if(!Nt(t))return pt(t);var e=[];for(var r in Object(t))et.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}t.exports=function(t){return It(t,!0,!0)}}({get exports(){return n},set exports(t){n=t}},n);var o=n,i={};!function(t,e){var n=200,o="__lodash_hash_undefined__",i=800,u=16,c=9007199254740991,a="[object Arguments]",s="[object AsyncFunction]",f="[object Function]",l="[object GeneratorFunction]",h="[object Null]",p="[object Object]",_="[object Proxy]",v="[object Undefined]",d=/^\[object .+?Constructor\]$/,y=/^(?:0|[1-9]\d*)$/,b={};b["[object Float32Array]"]=b["[object Float64Array]"]=b["[object Int8Array]"]=b["[object Int16Array]"]=b["[object Int32Array]"]=b["[object Uint8Array]"]=b["[object Uint8ClampedArray]"]=b["[object Uint16Array]"]=b["[object Uint32Array]"]=!0,b[a]=b["[object Array]"]=b["[object ArrayBuffer]"]=b["[object Boolean]"]=b["[object DataView]"]=b["[object Date]"]=b["[object Error]"]=b[f]=b["[object Map]"]=b["[object Number]"]=b[p]=b["[object RegExp]"]=b["[object Set]"]=b["[object String]"]=b["[object WeakMap]"]=!1;var g="object"==typeof r&&r&&r.Object===Object&&r,j="object"==typeof self&&self&&self.Object===Object&&self,w=g||j||Function("return this")(),A=e&&!e.nodeType&&e,O=A&&t&&!t.nodeType&&t,m=O&&O.exports===A,S=m&&g.process,x=function(){try{var t=O&&O.require&&O.require("util").types;return t||S&&S.binding&&S.binding("util")}catch(t){}}(),z=x&&x.isTypedArray;var P,k,E,$=Array.prototype,B=Function.prototype,F=Object.prototype,I=w["__core-js_shared__"],T=B.toString,U=F.hasOwnProperty,M=(P=/[^.]+$/.exec(I&&I.keys&&I.keys.IE_PROTO||""))?"Symbol(src)_1."+P:"",q=F.toString,D=T.call(Object),C=RegExp("^"+T.call(U).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),R=m?w.Buffer:void 0,L=w.Symbol,N=w.Uint8Array,V=R?R.allocUnsafe:void 0,W=(k=Object.getPrototypeOf,E=Object,function(t){return k(E(t))}),G=Object.create,J=F.propertyIsEnumerable,H=$.splice,K=L?L.toStringTag:void 0,Q=function(){try{var t=At(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),X=R?R.isBuffer:void 0,Y=Math.max,Z=Date.now,tt=At(w,"Map"),et=At(Object,"create"),rt=function(){function t(){}return function(e){if(!It(e))return{};if(G)return G(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function nt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function ot(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function it(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function ut(t){var e=this.__data__=new ot(t);this.size=e.size}function ct(t,e){var r=kt(t),n=!r&&Pt(t),o=!r&&!n&&$t(t),i=!r&&!n&&!o&&Ut(t),u=r||n||o||i,c=u?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],a=c.length;for(var s in t)!e&&!U.call(t,s)||u&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||Ot(s,a))||c.push(s);return c}function at(t,e,r){(void 0!==r&&!zt(t[e],r)||void 0===r&&!(e in t))&&lt(t,e,r)}function st(t,e,r){var n=t[e];U.call(t,e)&&zt(n,r)&&(void 0!==r||e in t)||lt(t,e,r)}function ft(t,e){for(var r=t.length;r--;)if(zt(t[r][0],e))return r;return-1}function lt(t,e,r){"__proto__"==e&&Q?Q(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}nt.prototype.clear=function(){this.__data__=et?et(null):{},this.size=0},nt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},nt.prototype.get=function(t){var e=this.__data__;if(et){var r=e[t];return r===o?void 0:r}return U.call(e,t)?e[t]:void 0},nt.prototype.has=function(t){var e=this.__data__;return et?void 0!==e[t]:U.call(e,t)},nt.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=et&&void 0===e?o:e,this},ot.prototype.clear=function(){this.__data__=[],this.size=0},ot.prototype.delete=function(t){var e=this.__data__,r=ft(e,t);return!(r<0)&&(r==e.length-1?e.pop():H.call(e,r,1),--this.size,!0)},ot.prototype.get=function(t){var e=this.__data__,r=ft(e,t);return r<0?void 0:e[r][1]},ot.prototype.has=function(t){return ft(this.__data__,t)>-1},ot.prototype.set=function(t,e){var r=this.__data__,n=ft(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},it.prototype.clear=function(){this.size=0,this.__data__={hash:new nt,map:new(tt||ot),string:new nt}},it.prototype.delete=function(t){var e=wt(this,t).delete(t);return this.size-=e?1:0,e},it.prototype.get=function(t){return wt(this,t).get(t)},it.prototype.has=function(t){return wt(this,t).has(t)},it.prototype.set=function(t,e){var r=wt(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},ut.prototype.clear=function(){this.__data__=new ot,this.size=0},ut.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},ut.prototype.get=function(t){return this.__data__.get(t)},ut.prototype.has=function(t){return this.__data__.has(t)},ut.prototype.set=function(t,e){var r=this.__data__;if(r instanceof ot){var o=r.__data__;if(!tt||o.length<n-1)return o.push([t,e]),this.size=++r.size,this;r=this.__data__=new it(o)}return r.set(t,e),this.size=r.size,this};var ht,pt=function(t,e,r){for(var n=-1,o=Object(t),i=r(t),u=i.length;u--;){var c=i[ht?u:++n];if(!1===e(o[c],c,o))break}return t};function _t(t){return null==t?void 0===t?v:h:K&&K in Object(t)?function(t){var e=U.call(t,K),r=t[K];try{t[K]=void 0;var n=!0}catch(t){}var o=q.call(t);n&&(e?t[K]=r:delete t[K]);return o}(t):function(t){return q.call(t)}(t)}function vt(t){return Tt(t)&&_t(t)==a}function dt(t){return!(!It(t)||function(t){return!!M&&M in t}(t))&&(Bt(t)?C:d).test(function(t){if(null!=t){try{return T.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function yt(t){if(!It(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=mt(t),r=[];for(var n in t)("constructor"!=n||!e&&U.call(t,n))&&r.push(n);return r}function bt(t,e,r,n,o){t!==e&&pt(e,(function(i,u){if(o||(o=new ut),It(i))!function(t,e,r,n,o,i,u){var c=St(t,r),a=St(e,r),s=u.get(a);if(s)return void at(t,r,s);var f=i?i(c,a,r+"",t,e,u):void 0,l=void 0===f;if(l){var h=kt(a),_=!h&&$t(a),v=!h&&!_&&Ut(a);f=a,h||_||v?kt(c)?f=c:Tt(j=c)&&Et(j)?f=function(t,e){var r=-1,n=t.length;e||(e=Array(n));for(;++r<n;)e[r]=t[r];return e}(c):_?(l=!1,f=function(t,e){if(e)return t.slice();var r=t.length,n=V?V(r):new t.constructor(r);return t.copy(n),n}(a,!0)):v?(l=!1,d=a,y=!0?(b=d.buffer,g=new b.constructor(b.byteLength),new N(g).set(new N(b)),g):d.buffer,f=new d.constructor(y,d.byteOffset,d.length)):f=[]:function(t){if(!Tt(t)||_t(t)!=p)return!1;var e=W(t);if(null===e)return!0;var r=U.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&T.call(r)==D}(a)||Pt(a)?(f=c,Pt(c)?f=function(t){return function(t,e,r,n){var o=!r;r||(r={});var i=-1,u=e.length;for(;++i<u;){var c=e[i],a=n?n(r[c],t[c],c,r,t):void 0;void 0===a&&(a=t[c]),o?lt(r,c,a):st(r,c,a)}return r}(t,Mt(t))}(c):It(c)&&!Bt(c)||(f=function(t){return"function"!=typeof t.constructor||mt(t)?{}:rt(W(t))}(a))):l=!1}var d,y,b,g;var j;l&&(u.set(a,f),o(f,a,n,i,u),u.delete(a));at(t,r,f)}(t,e,u,r,bt,n,o);else{var c=n?n(St(t,u),i,u+"",t,e,o):void 0;void 0===c&&(c=i),at(t,u,c)}}),Mt)}function gt(t,e){return xt(function(t,e,r){return e=Y(void 0===e?t.length-1:e,0),function(){for(var n=arguments,o=-1,i=Y(n.length-e,0),u=Array(i);++o<i;)u[o]=n[e+o];o=-1;for(var c=Array(e+1);++o<e;)c[o]=n[o];return c[e]=r(u),function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}(t,this,c)}}(t,e,Ct),t+"")}var jt=Q?function(t,e){return Q(t,"toString",{configurable:!0,enumerable:!1,value:(r=e,function(){return r}),writable:!0});var r}:Ct;function wt(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map}function At(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return dt(r)?r:void 0}function Ot(t,e){var r=typeof t;return!!(e=null==e?c:e)&&("number"==r||"symbol"!=r&&y.test(t))&&t>-1&&t%1==0&&t<e}function mt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||F)}function St(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var xt=function(t){var e=0,r=0;return function(){var n=Z(),o=u-(n-r);if(r=n,o>0){if(++e>=i)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(jt);function zt(t,e){return t===e||t!=t&&e!=e}var Pt=vt(function(){return arguments}())?vt:function(t){return Tt(t)&&U.call(t,"callee")&&!J.call(t,"callee")},kt=Array.isArray;function Et(t){return null!=t&&Ft(t.length)&&!Bt(t)}var $t=X||function(){return!1};function Bt(t){if(!It(t))return!1;var e=_t(t);return e==f||e==l||e==s||e==_}function Ft(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=c}function It(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Tt(t){return null!=t&&"object"==typeof t}var Ut=z?function(t){return function(e){return t(e)}}(z):function(t){return Tt(t)&&Ft(t.length)&&!!b[_t(t)]};function Mt(t){return Et(t)?ct(t,!0):yt(t)}var qt,Dt=(qt=function(t,e,r){bt(t,e,r)},gt((function(t,e){var r=-1,n=e.length,o=n>1?e[n-1]:void 0,i=n>2?e[2]:void 0;for(o=qt.length>3&&"function"==typeof o?(n--,o):void 0,i&&function(t,e,r){if(!It(r))return!1;var n=typeof e;return!!("number"==n?Et(r)&&Ot(e,r.length):"string"==n&&e in r)&&zt(r[e],t)}(e[0],e[1],i)&&(o=n<3?void 0:o,n=1),t=Object(t);++r<n;){var u=e[r];u&&qt(t,u,r,o)}return t})));function Ct(t){return t}t.exports=Dt}({get exports(){return i},set exports(t){i=t}},i);var u=i;const c=function(t){let r={},n=l.keyPathSeparator;for(let o in t){let i=t[o];if(!i||i.constructor!==Object&&i.constructor!==Array||e.isEmpty(i))r[o]=i;else{const t=c(i);for(let e in t){let i=t[e];r[o+n+e]=i}}}return r},a=function(t,r,n){const o=l.keyPathSeparator,i=r?r.split(o):[];let u=t;for(let t=0,r=i.length;t<r;t++){if(n&&!e.has(u,i[t]))return!1;if(u=u[i[t]],null==u&&t<r-1&&(u={}),void 0===u)return!!n||u}return!!n||u},s=function(t,r,n,o){o=o||{};const i=l.keyPathSeparator,u=r?r.split(i):[];let c=t;for(let t=0,r=u.length;t<r&&void 0!==c;t++){const i=u[t];if(t===r-1)o.unset?delete c[i]:c[i]=n;else{if(void 0===c[i]||!e.isObject(c[i])){if(o.unset)return void delete c[i];let e=u[t+1];c[i]=/^\d+$/.test(e)?[]:{}}c=c[i]}}},f=function(t,e){s(t,e,null,{unset:!0})},l=t.Model.extend({constructor:function(t,r){let n=t||{};this.cid=e.uniqueId("c"),this.attributes={},r&&r.collection&&(this.collection=r.collection),r&&r.parse&&(n=this.parse(n,r)||{}),n=u({},o(e.result(this,"defaults")),n),this.set(n,r),this.changed={},this.initialize.apply(this,arguments)},toJSON:function(t){return u({},this.attributes)},get:function(t){return a(this.attributes,t)},set:function(t,r,n){let o;if(null==t)return this;if("object"==typeof t?(o=t,n=r||{}):(o={})[t]=r,n||(n={}),!this._validate(o,n))return!1;const i=n.unset,h=n.silent,p=[],_=this._changing;this._changing=!0,_||(this._previousAttributes=u({},this.attributes),this.changed={});const v=this.attributes,d=this._previousAttributes;this.idAttribute in o&&(this.id=o[this.idAttribute]),o=c(o);for(let t in o)r=o[t],e.isEqual(a(v,t),r)||p.push(t),e.isEqual(a(d,t),r)?f(this.changed,t):s(this.changed,t,r),i?f(v,t):s(v,t,r);if(!h){p.length&&(this._pending=!0);const t=l.keyPathSeparator,e={};for(let r=0,o=p.length;r<o;r++){let o=p[r];e.hasOwnProperty(o)&&e[o]||(e[o]=!0,this.trigger("change:"+o,this,a(v,o),n));const i=o.split(t);for(let r=i.length-1;r>0;r--){const o=i.slice(0,r).join(t),u=o+t+"*";e.hasOwnProperty(u)&&e[u]||(e[u]=!0,this.trigger("change:"+u,this,a(v,o),n)),e.hasOwnProperty(o)&&e[o]||(e[o]=!0,this.trigger("change:"+o,this,a(v,o),n))}}}if(_)return this;if(!h)for(;this._pending;)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},clear:function(t){const r={},n=c(this.attributes);for(var o in n)r[o]=void 0;return this.set(r,e.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!e.isEmpty(this.changed):void 0!==a(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&c(this.changed);let r=this._changing?this._previousAttributes:this.attributes;t=c(t),r=c(r);let n,o=!1;for(let i in t)e.isEqual(r[i],n=t[i])||((o||(o={}))[i]=n);return o},previous:function(t){return null!=t&&this._previousAttributes?a(this._previousAttributes,t):null},previousAttributes:function(){return u({},this._previousAttributes)}});l.keyPathSeparator=".",window.Backbone=window.Backbone||{},window.Backbone.DeepModel=l}));
